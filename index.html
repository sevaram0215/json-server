<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON SERVER</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.2.1/axios.min.js"></script>
</head>
<body>
    Name:- <input type="text" id="name" />
    Email:- <input type="text" id="email" />
    <button id="btn">Submit</button>

    <hr><hr>

    <div id="cont"></div>
</body>
<script>
    let arr=[]
    async function postData(){
        let obj={
            name:document.getElementById("name").value,
            email:document.getElementById("email").value
        };
        try{
            let res=await axios.post("http://localhost:8080/user",obj)
        }catch(error){
            console.log("error")
        }
    }

    let btn=document.getElementById("btn");
    let cont= document.getElementById("cont");
    btn.addEventListener("click",postData);

    async function getData(){
        try{
            let res=await axios.get("http://localhost:8080/user");
            console.log(res.data);
            arr=res.data
            displyData()
        }

        catch(error){
            console.log(error)
        }
    }
    getData();

    function displyData(){
        cont.innerHTML="";
        arr.map((ele,index)=>
    {
        let dev =document.createElement("div")
      let name =document.createElement("h1")
      name.innerText=ele.name
      let email =document.createElement("h2");
      email.innerText=ele.email;
      dev.append(name,email);
      cont.append(dev);

    })
     
    }
    displyData()
</script>
</html>